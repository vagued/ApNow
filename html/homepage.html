2<DOCTYPE! html>
<html>
    <head>
    	<meta charset="UTF-8">
    	<title>Homepage</title>
    	<link rel="stylesheet" href="..\css\style.css">

    </head>
    <body id = "def">
    	<header>
    	   <div class = "navbar">
                	<a href = "" id = "logo"> <img src = "../img/logo.png"> </a>
                	<a href = "login.html" id = "login"> Login </a>
                	<a href = "signup.html" id = "signup"> Sign Up </a>
                	<a href = ""> Help! </a>
					<div id="navbar2"></div>
           </div>

    	</header>


		<select id="myselect" onchange="change_myselect(this.value)">
			<option value="">Choose your destination:</option>
			<option value="athens">Athens</option>
			<option value="thessaloniki">Thessaloniki</option>
			<option value="patras">Patras</option>
		</select>

    <p id="apartments"></p>

		<script>
            if(sessionStorage.login == 1)
			{
				document.getElementById("login").setAttribute("href", "homepage.html");
				document.getElementById("login").innerHTML = "Logout";

				var div = document.getElementById("navbar2");
				div.innerHTML += '<a href="upload-apartment.html">Upload apartment</a>';

				sessionStorage.login = 0;
			}
       </script>

		 <!-- lista me ta katalimata ana poli -->
		 <script>
		 function change_myselect(sel) {
		   var obj, dbParam, xmlhttp, apartments, x, grid_html = "";
		   obj = { "table":sel, "limit": };
		   dbParam = JSON.stringify(obj);
		   xmlhttp = new XMLHttpRequest();
		   xmlhttp.onreadystatechange = function() {

			 if (this.readyState == 4 && this.status == 200) {
			   apartments = JSON.parse(this.responseText);
			   grid_html += "<table border='1'>"
			   for (x in apartments) {
				 grid_html += '<tr><td><img src="../img/apartments/"' + apartments[x].idapartment + '"></td></tr>';
			   }
			   grid_html += "</table>"
			   document.getElementById("apartments").innerHTML = grid_html;
			 }
		   };
		   xmlhttp.open("POST", "return-apartments.php", true);
		   xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		   xmlhttp.send();
		 }
		 </script>


 <!-- lista me ta kataxorimena katalimata -->
		 <script>

			 var xmlhttp, apartments, x, grid_html = "";

			 xmlhttp = new XMLHttpRequest();
			 xmlhttp.onreadystatechange = function() {

				 if (this.readyState == 4 && this.status == 200) {

           apartments = JSON.parse(this.responseText);

					 for (x in apartments)
           {
             grid_html +=
               '<div class="gallery">' +
                  '<div class="container">' +
                   '<a href="apartment.html?' + apartments[x].idapartment + '"> ' +
                    '<img src="../img/apartments/' +
                    + apartments[x].idapartment + '.' + apartments[x].extension + '" ' +
                    'class="grid-image">' +
                      '<div class="middle">' +
                        '<div class="image-text">' + apartments[x].title + '</div>' +
                      '</div>' +
                    '</a>' +
                  '</div>' +
                '</div>';
					 }

					 document.getElementById("apartments").innerHTML = grid_html;
				 }
			 };

			 xmlhttp.open("GET", "../php/return-apartments.php", true);
			 xmlhttp.send();

     </script>

		<div class="footer">
           <div class="container">
               <p>&copy; ApNow 2018</p>
           </div>
        </div>
    </body>
</html>
